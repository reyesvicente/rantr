{% extends "account/base.html" %}
{% load i18n crispy_forms_tags %}

{% block content %}
<div class="container mt-5 text-center">
  <h1 class="mb-4"> 
    {% trans "Setup Two-Factor Authentication" %}
  </h1>

  <h4 class="mb-3">
    {% trans 'Step 1' %}:
  </h4>

  <p>
    {% trans 'Scan the QR code below with a token generator of your choice (for instance Google Authenticator).' %}
  </p>

  <div class="text-center mb-3">
    <img src="{{ qr_code_url }}" class="img-fluid" />
  </div>

  <p class="text-center"> Secret: <strong>{{ secret }}</strong> </p>

  <h4 class="mt-4 mb-3">
    {% trans 'Step 2' %}:
  </h4>

  <p>
    {% trans 'Input a token generated by the app:' %}
  </p>

  <form method="post" class="needs-validation" novalidate>
    {% csrf_token %}
    <div class="mb-3">
      {{ form.non_field_errors }}
    </div>
    <div class="mb-3">
      <label for="{{ form.otp_token.id_for_label }}" class="form-label">{{ form.otp_token.label }}</label>
      {{ form|crispy }}
    </div>
    <button type="submit" class="btn btn-primary">
      {% trans 'Verify' %}
    </button>
  </form>
</div>
{% endblock %}